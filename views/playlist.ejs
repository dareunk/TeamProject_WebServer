<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Playlist</title>
  <link rel="stylesheet" type="text/css" href="/styles/style.css">
</head>
<body>
  <header class="header">
    <h1>Playlist: <%= playlist.name %></h1>
  </header>

  <main class="playlist">
    <h1><%= playlist.name %></h1>
    <ul class="track-list">
      <% if (playlist.body.tracks && playlist.body.tracks.items) { %>
        <% playlist.body.tracks.items.forEach(function(track) { %>
          <li class="track">
            <img src="<%= track.track.album.images[0].url %>" alt="Album Art">
            <div class="track-info">
              <h3><%= track.track.name %></h3>
              <p><%= track.track.artists[0].name %></p>
              <audio controls>
                <source src="<%= track.track.preview_url %>" type="audio/mpeg">
                Your browser does not support the audio element.
              </audio>
            </div>
          </li>
        <% }); %>
      <% } else { %>
        <p>No tracks found.</p>
      <% } %>
    </ul>
    <!-- 플레이리스트에 노래 추가하는 폼 -->
    <form action="/playlist/<%= playlist.id %>/addSong" method="POST">
      <input type="text" name="songName" placeholder="노래 검색">
      <button type="submit">추가</button>
    </form>
    <div>
      <ul>
        <li><a href="/plimatelist">playlist</a></li>
	<li><a href="/playlists">my playlist</a></li>
      </ul>
    </div>
  </main>
</body>
</html>
